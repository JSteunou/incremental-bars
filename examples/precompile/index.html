<!doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>incremental-bars example</title>
    </head>
    <body>
        <div id="container"></div>
    </body>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.runtime.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/incrementaldom/0.5.1/incremental-dom.js"></script>
    <script type="text/javascript" src="gen/precompiled.js"></script>
    <script type="text/javascript">

        // Custom helpers
        Handlebars.registerHelper('customHelper', function(index, options) {
            return '[' + (index + 1) + ']';
        });
        Handlebars.registerHelper('customBlockHelper', function(index, options) {
            if(index % 2 === 0) {
                return options.fn(this);
            } else {
                return options.inverse(this);
            }
        });

        // Container object where we'll append all generated templates
        var containerEl = document.getElementById('container')

        // Process each template in Handlebars.templates
        var templates   = Handlebars.templates;
        for(var templateName in templates) {
            // Skip partials (which by convention have a name that starts with "_")
            if(templateName.indexOf('_') !== 0 ) {
                // The template object
                var templateFn = templates[templateName];
                // Create an element...
                var el = document.createElement('div');
                // ... patch it ...
                IncrementalDOM.patch(el, templateFn, { world : 'world!', items : [ 'first item', 'second item', 'third item', 'fourth item' ] });
                // ... and append it!
                containerEl.append(el);
            }
        }

        // All done :)
    </script>
</html>